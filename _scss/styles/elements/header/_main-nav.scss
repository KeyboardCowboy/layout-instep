@media ($collapse-nav) {
  .off-canvas-wrap {
    @include off-canvas-wrap;
    background-color: $blue;

    &.move-left {
      > .inner-wrap {
        @include translate3d(-($off-canvas-width),0,0);

      }
      a.exit-off-canvas { @include back-link; }
    }
  }
  .inner-wrap {
    @include inner-wrap;
    box-shadow: 3px 0 5px 0 rgba(0,0,0,.5);
  }

  header#site-header {
    nav#utility {
      display: none;
    }

    h2 {
      color: white;
      float: right;
    }

    nav#main-nav {
      @include right-off-canvas-menu;
      bottom: auto;
      box-shadow: inset 3px 0 5px 0 rgba(0,0,0,.5);

      // All levels
      ul {
        li {
          margin: 0;
          padding: 0;
          display: block;
          list-style: none;

          z-index: 1;
          vertical-align: middle;

          &.placeholder, span.color {
            display: none;
          }

          a {
            @include transition(color .2s);
            @include o-rem(font-size, 1.2);
            @include o-rem(padding, .25 .25 .25 1);
            border-bottom: 1px solid darken($blue, 10%);
            color: white;
            display: block;
          }

          // Level >=2
          ul {
            margin: 0;

            li {
              a {
                @include o-rem(font-size, 1);
                @include o-rem(padding, .25 .25 .25 1.5);
                background-color: rgba(0,0,0,.1);
              }
            }
          }
        }
      }
    }
  }
}

@media ($expand-nav) {
  header#site-header {
    nav#main-nav {
      display: block;
      //border-bottom: 3px solid $blue;
      width: 100%;
      position: absolute;
      top: 40%;
      overflow: hidden;

      box-shadow: inset 0 2px 5px 0 rgba(0,0,0,.38);
      //@include linear-gradient(top, lighten($grey, 20%), $grey);


      // All levels
      ul {
        li {
          float: left;

          span.color {
            display: none;
            /*@include linear-gradient(lighten($green, 5%), darken($green, 10%));
            box-shadow: inset 0 2px 5px 0 rgba(black, .38);

            display: block;
            height: 100%;
            width: 100%;
            position: absolute;
            z-index: 0;

            @include transform(translateY(-100%));
            @include transition(all .2s ease-out);*/
          }

          &.placeholder {
            width: 9%;
            height: 100%;
            background-color: $blue;

            span.color {
              @include transform(translateY(0));
              box-shadow: 0 5px 10px 0 rgba(0,0,0,.38);
              background-image: none;
              background-color: $blue;
            }

            div {
              padding: .25em 1em 0 1em;
             @include o-rem(font-size, 1.6);
            }
          }

          &.first {
            a {padding-left: 12vw;}
          }

          &:hover span.color, &.active-trail span.color {
            @include transform(translateY(0));

            a {color: white;}
          }

          a {
            display: block;
            padding: .25em 1em 0 1em;
            text-decoration: none;
            background-color: transparent;
            color: darken($orange, 10%);
            z-index: 1;
            position: relative;
            font-family: Chalet, sans-serif;
            @include transition(color .2s);
            @include o-rem(font-size, 1.6);
            border-left: 1px solid $blue;
            text-shadow: 1px 1px 1px #fff;

            &:hover, &:active, &.active {
              color: $blue;
            }
          }

          // Levels >= 2
          ul {
            display: none;
            margin: 0;
            @include transition(all .2s ease);
            //@include transform(translateY(-100%));

            li {
              float: none;

              a {
                display: block;
              }
            }
          }

          &:hover {
            ul {
             //@include transform(translateY(0));
              display: block;
            }
          }
        }
      }
    }
  }
}
